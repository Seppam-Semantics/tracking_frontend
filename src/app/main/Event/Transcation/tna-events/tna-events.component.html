<div [formGroup]="tnaEventsForm">
    <mat-toolbar style="height: auto;">
        <button class="btn btn-danger" (click)="back()">Back</button>
        <div style="display: flex; gap: 15px; width: 100%; justify-content: center;">
                <span>TNA Events Creation</span>
        </div>
        <div style="flex: 1 1 auto;"></div>
        </mat-toolbar>

        <div class="tablecss">
                <table class="table table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th><button class="btn btn-primary" (click)="AddButton()">+</button></th>
                            <th>S.No</th>
                            <th>Buyer</th>
        
                            <th>Order No.</th>
                            <th>Style</th>
                            <th>Color</th>
                            
                            <th>Events</th>
                            <th>Plan Date</th>
                            
                            <th>Actual Date</th>
                            <th>Remarks</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody formArrayName="data">
                        <tr *ngFor="let list of items.controls; let i=index" [formGroupName]="i">
                            <td></td>
                            <td>{{i+1}}</td>
                            <td>
                                <p-dropdown #buyername placeholder="Buyer" optionLabel="buyer" [options]="buyers"
                                    optionValue="buyer" [editable]="true" formControlName="buyer" (onChange)="getBuyerValue(i)"
                                    (mouseenter)="getBuyerValue(i)" (onChange)="getorders()" (click)="buyerlist(i)">
                                </p-dropdown>
                            </td>
        
                            <td>
                                <p-dropdown #orders [options]="this.order" optionLabel="orderNO" optionValue="orderNO"
                                    placeholder="orderNo" (onChange)="ordervalue(i)" (mouseenter)="ordervalue(i)"
                                    (mouseenter)="getBuyerValue(i)" (onChange)="orderdata()"
                                    [editable]="true" formControlName="orderNo" (click)="orderlist(i)">
                                </p-dropdown>
                            </td>
                            <td>
                                <p-dropdown #styles [options]="stylelist" optionLabel="style" optionValue="style"
                                    placeholder="style" (onChange)="stylevalue(i)" (mouseenter)="ordervalue(i)"
                                    (onChange)="styledata()"  [editable]="true"
                                    formControlName="style" (click)="styleslist(i)">
                                </p-dropdown>
                            </td>
                            <td>
                                <p-dropdown #colors [options]="colorlist" optionLabel="color" optionValue="color"
                                    placeholder="color" formControlName="color" [editable]="true" (onChange)="colorvalue(i)"
                                    (onChange)="colordata()" (mouseenter)="stylevalue(i)" 
                                    (click)="colorslist(i)" />
                            </td>
        
        
                            <td>
                                <p-dropdown #events [options]="eventslist" optionLabel="events" optionValue="events" placeholder="Events"
                                    formControlName="events" [editable]="true" />
                            </td>
                            <td>
                                <input type="date" class="form-control" formControlName="planDate">
                            </td>
                            <td>
                                <input type="date" class="form-control" formControlName="actualDate">
                            </td>
        
                            <td>
                                <textarea formControlName="remarks" class="form-control" style="height: 35px;"></textarea>
                            </td>
        
                            <td><button class="btn-danger" (click)="delete(i)">x</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <mat-toolbar style="height: auto; display: flex; width: 100%; justify-content: center;">
                <button class="btn btn-primary" (click)="save()" *ngIf="!valueExceeded">Save</button>
        
                <button class="btn btn-primary" *ngIf="valueExceeded">Loading</button>
        
            </mat-toolbar>





</div>