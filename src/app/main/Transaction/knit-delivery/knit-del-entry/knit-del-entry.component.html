<div [formGroup]="KnitDelivery">
    <mat-toolbar class="bg-secondary text-white" style="display: flex; justify-content: center;">
        <span>Knit Delivery</span>
        <div style="flex: 1 1 auto;"></div>
        <div style="display: flex; gap: 2%;">
            <mat-form-field appearance="outline" style="height: 2%; margin-top: 1%;">
                <mat-label>Factory</mat-label>
                <mat-select formControlName="factory">
                    <mat-option></mat-option>
                    <mat-option *ngFor="let ftyname of this.fty_name"
                        value="{{ftyname.knitFty}}">{{ftyname.knitFty}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <input matInput [matDatepicker]="picker1">
                <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
        </div>
    </mat-toolbar>
    <div class="tablecss">
        <table class="table table-sm table-hover">
            <thead class="thead-dark">
                <tr>
                    <th><button class="btn btn-primary" (click)="KnitDeliveryAddButton()"
                            style="width: auto;">+</button></th>
                    <th>S.No</th>
                    <th>To Dye Fty</th>
                    <th>Knit Challan</th>
                    <th>Scandex Challan</th>
                    <th>Buyer</th>
                    <th>Order</th>
                    <th>Style</th>
                    <th>Color</th>
                    <th>Size</th>
                    <th>No. of Rolls</th>
                    <th>Delivery Greige Fabrics - Kgs</th>
                    <th>Knit Rate</th>
                    <th>Knit Value</th>
                    <th></th>
                </tr>
            </thead>
            <tbody formArrayName="DyeDeliveryData">
                <tr *ngFor="let list of items.controls; let i=index" [formGroupName]="i">
                    <td></td>
                    <td>{{i+1}}</td>
                    <td>
                        <input type="text" class="form-control" formControlName="ToDyeFty" list="1">
                        <datalist id="1">
                            <option *ngFor="let knitFty of this.fty_name" [value]="knitFty.knitFty">{{knitFty.knitFty}}
                            </option>
                        </datalist>
                    </td>
                    <td>
                        <input formControlName="KnitChallan" class="form-control">
                    </td>
                    <td>
                        <input formControlName="ScandexChallan" class="form-control">
                    </td>
                    <td>
                        <input type="text" class="form-control" formControlName="buyer" list="1"
                            (input)="getBuyerValue($event)" (change)="getorders()">
                        <datalist id="1">
                            <option *ngFor="let name of this.buyer" [value]="name.buyer">{{name.buyer}}</option>
                        </datalist>
                    </td>
                    <td><input type="text" class="form-control" formControlName="orderNo" list="2"
                            (input)="getOrderValue($event)" (change)="getstyle()">
                        <datalist id="2">
                            <option *ngFor="let number of this.order" [value]="number.orderNO">
                        </datalist>
                    </td>
                    <td><input type="text" class="form-control" formControlName="style" list="3"
                            (input)="getstylevalue($event)" (change)="getcolor()">
                        <datalist id="3">
                            <option *ngFor="let style of this.stylelist" [value]="style.style">
                        </datalist>
                    </td>
                    <td><input type="text" class="form-control" formControlName="color" list="4"
                            (input)="getcolorvalue($event)" (change)="getsize()">
                        <datalist id="4">
                            <option *ngFor="let color of this.colorlist" [value]="color.color">
                        </datalist>
                    </td>
                    <td><input type="text" class="form-control" formControlName="size" list="5">
                        <datalist id="5">
                            <option *ngFor="let size of this.sizelist" [value]="size.size">
                        </datalist>
                    </td>
                    <td>
                        <input class="form-control" type="number" formControlName="noRolls" (input)="calculate()">
                    </td>
                    <td>
                        <input formControlName="DeliveryGreigeFab" class="form-control" type="number"
                            (input)="calculate()">
                    </td>
                    <td>
                        <input type="text" class="form-control" formControlName="KnitRate" list="6">
                        <datalist id="6">
                            <option value="1">
                        </datalist>
                    </td>
                    <td>
                        <input formControlName="KnitValue" class="form-control" type="number">
                    </td>
                    <td><button class="btn btn-danger" (click)="KnitDeliveryRemoveButton(i)">x</button></td>
                </tr>
            </tbody>


            <thead class="thead-dark">
                <th></th>
                <th></th>
                <th>Total</th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th><input type="text" formControlName="RollsTotal" pInputText></th>
                <th><input type="text" formControlName="DeliveryTotal" pInputText></th>
                <th></th>
                <th><input type="text" formControlName="KnitTotal" pInputText></th>
                <th></th>
            </thead>
        </table>
    </div>
    <mat-toolbar style="display: flex; justify-content: center; height: auto;"><button
            class="btn btn-primary">Save</button></mat-toolbar>
</div>